1. cmake .. -DCMAKE_BUILD_TYPE=Release  编译快，因为默认DEBUG 慢
2. make -j motion 指定编译
3. gflags的使用

   1. #include <gflags/gflags.h>
   2. ```c++
      DEFINE_double(angular_velocity, 10.0, "角速度（角度）制");
      DEFINE_double(linear_velocity, 5.0, "水平初速度 m/s");
      DEFINE_double(H, 100.0, "初始高度 m");
      DEFINE_double(g, -9.8, "当地加速度 m/s^2");
      DEFINE_bool(use_quaternion, false, "是否使用四元数计算");
      main
      // 这个参数在使用Glog库时，用于将日志输出到标准错误流中，并在日志中显示程序名称或路径。
      google::InitGoogleLogging(argv[0]);
      // 设置日志输出级别
      FLAGS_stderrthreshold = google::INFO;
      // 设置输出到屏幕
      FLAGS_colorlogtostderr = true;
      // ParseCommandLineFlags()函数解析命令行参数，将命令行参数存储到FLAGS_变量中
      google::ParseCommandLineFlags(&argc, &argv, true);
      ```
   3. 调用时直接采用 --name 3.0
4. Lambda函数

```c++
    /*
        首先，save_vec3函数接受一个std::ofstream类型的输出文件流和一个Vec3d类型的参数v，将v的三个分量按顺序写入文件流中，中间用空格分隔。

        接下来，save_quat函数也接受一个std::ofstream类型的输出文件流和一个Quatd类型的参数q。它将q的四个分量按顺序写入文件流中，中间用空格分隔。

        最后，save_result函数接受一个std::ofstream类型的输出文件流和一个sad::NavStated类型的参数save_state。它先将输出文件流的精度设置为18位小数，

        然后按照一定的格式将save_state的各个成员变量写入文件流中，包括timestamp_、位置向量p_、旋转矩阵R_转换为单位四元数后的四个分量、速度向量v_、偏置角速度向量bg_和偏置加速度向量ba_。最后，换行符表示该行数据写入完成。

        通过使用Lambda函数，可以在save_result函数中直接调用save_vec3和save_quat，以达到代码复用的目的，并且使代码更加简洁和可读性更强。
    */

    auto save_vec3 = [](std::ofstream& fout, const Vec3d& v) { fout << v[0] << " " << v[1] << " " << v[2] << " "; };
    auto save_quat = [](std::ofstream& fout, const Quatd& q) {
        fout << q.w() << " " << q.x() << " " << q.y() << " " << q.z() << " ";
    };

    auto save_result = [&save_vec3, &save_quat](std::ofstream& fout, const sad::NavStated& save_state) {
        fout << std::setprecision(18) << save_state.timestamp_ << " " << std::setprecision(9);
        save_vec3(fout, save_state.p_);
        save_quat(fout, save_state.R_.unit_quaternion());
        save_vec3(fout, save_state.v_);
        save_vec3(fout, save_state.bg_);
        save_vec3(fout, save_state.ba_);
        fout << std::endl;
    };
```


5. lambda函数修改外部变量
   ```
   io.SetIMUProcessFunc([&](const sad::IMU& imu)
   举例说明
   int main() {
       int x = 10;
       double y = 3.14;

       auto lambda = [&]() {
           x++;
           y *= 2;
           std::cout << "Inside lambda: x = " << x << ", y = " << y << std::endl;
       };

       lambda();

       std::cout << "After lambda: x = " << x << ", y = " << y << std::endl;

       return 0;
   }

   ```
